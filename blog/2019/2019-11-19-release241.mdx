---
slug: apktool-2.4.1
title: Apktool 2.4.1
authors: ibotpeaches
tags: [release]
---

:::caution

This release contains an updated internal framework file.

- `apktool empty-framework-dir` to remove the old file.

:::

- Updated baksmali/smali to version 2.3.4
- Upgrade to `gradle 5.6.2`
- Added support for Android Q (10) Final. ([#2131](https://github.com/iBotPeaches/Apktool/issues/2131))
- Fixed build issue with JDK9+ because of jmod change. ([#2086](https://github.com/iBotPeaches/Apktool/issues/2086))
- Fixed security issue with unpacking assets to unintended locations via directory traversal. ([#2058](https://github.com/iBotPeaches/Apktool/pull/2058))
- Fixed issue with api-level command not showing in advanced documentation. ([#2027](https://github.com/iBotPeaches/Apktool/issues/2027))
- Fixed issue with directory creation warning when framework directory not made. ([#2048](https://github.com/iBotPeaches/Apktool/issues/2048))
- Fixed issue with missing mapping for `Q` shorthand property. ([#2045](https://github.com/iBotPeaches/Apktool/issues/2045))
- Fixed issue with raw `qmg` files not decoding correctly. ([#2046](https://github.com/iBotPeaches/Apktool/issues/2064))
- Fixed issue with copying assets where output directory doesn't match initial structure. ([#2046](https://github.com/iBotPeaches/Apktool/issues/2064))
- Fixed issue with NPE with empty attribute content during deserialization. ([#2063](https://github.com/iBotPeaches/Apktool/issues/2063))
- Fixed removal of META-INF/services. ([#2084](https://github.com/iBotPeaches/Apktool/issues/2084), [#2018](https://github.com/iBotPeaches/Apktool/issues/2018)) Thanks adibfara
- Fixed support for "attr" bag type. ([#2117](https://github.com/iBotPeaches/Apktool/issues/2117)) Thanks visigoth
- Fixed wiping license headers of AOSP/Android4Me files. ([#2093](https://github.com/iBotPeaches/Apktool/issues/2093))
- Added enhanced wrapper file for Windows. ([#2120](https://github.com/iBotPeaches/Apktool/pull/2120)) Thanks Varstahl
- Added advance command for skipping disassemble of non-root dex packages. ([#2051](https://github.com/iBotPeaches/Apktool/pull/2051))
- Fixed issue with MIUI package names being renamed. ([#2028](https://github.com/iBotPeaches/Apktool/pull/2028)) Thanks IgorEisberg
- Work-around with issue with large 9patch path spamming in uncompressed file list. ([#1272](https://github.com/iBotPeaches/Apktool/issues/1272)) Thanks IgorEisberg
- Fixed issue with NPE on annotations ([#2071](https://github.com/iBotPeaches/Apktool/issues/2071))
- Fixed issue with garbled attributes ([#1576](https://github.com/iBotPeaches/Apktool/issues/1576)) Thanks brianairb
- Fixed regression with `--only-main-classes` ([#2226](https://github.com/iBotPeaches/Apktool/pull/2226)) Thanks realityJie
- Fixed 32bit binary issue with Window aapt/aapt2 builds. ([#2141](https://github.com/iBotPeaches/Apktool/issues/2141)) Thanks Furniel
- Fixed issue with JVM not knowing bitness on Windows in some situations. ([#2105](https://github.com/iBotPeaches/Apktool/issues/2105))
- Fixed issue with long path commands due to recording compression. ([#1272](https://github.com/iBotPeaches/Apktool/issues/1272)) Thanks peret

> This post was originally released at: https://connortumbleson.com/2019/11/29/apktool-v2-4-1-released and duplicated in part here for historical reasons.
